language: node_js
node_js:
- '4.1'
env:
  global:
  - secure: mzxDp1rEwo95FotFW/QEJ3spW5W83/fN8O2nmHOFx7lekroL1tPv5XHTrxEmw4a/lRBzqA+ILBNqXBtQ6GmjvpKS/0iKD3GQSY1cwri8aI/modJKKOvmSpauulsowZ2/3Sa8MSrac3txO8skk8OV6jEWfnKrfHUJ8EnolrQrCvFcID8WpdUF99Q+1I5aIfo3KDk5Q6cKpx8heYaAgfgg5nuuXS2VNGQ9tm1ed9+6MkcHBQlCMDWJlU/bo7Vaj4/wE14cOmVaUH15pfe7em7HI6W2Etuw4BHe09544gNdJjYmsxzgwEBGQvuWYchJ3DiONNAC9WZg+xW3JHKKrsnyWqvSbmA+2cSQP4bNPwLsWrudfhEHKfOaHOMYZZBkUqrqJFCTfGZNuKmmhuHqsEihL5yJ5JFYkZUN5aNYiqF7z5niMCJXIzgK0XvAH8RmuSVbEOZNOMizJWbRHZwRH0sdpXDJKrherbb1kt+F/Oc1PQaIkD52CPjKP461rdhqp7HIJLDSNheA9HGgOWoZIpUGN1xJSCb21JstSmzTScnwOS8NaFs/ERN0JrR9nHtnLcGMyLcYK1b1uXLz9v+4OHjW2Cz3ZyFVDGu6Vsb5g5yD1GKG42/4+fa218DzMkEtgD7r8WDF+3QH10ctI1/nLwD4J078EXjFdO41FyXSM1ZbBQo=
  - secure: v8cepTom4ZaGebJLRJPDhUHD3JQTYIA83aJo1bzC7ZEpEt1kot8Est3IqMc8OM9SlnfwdxxjtznVfs1WhyaLQlyPhZ7h1gI9xPwZ5SdShX1tFKuC8FARafsNk06cPTtTeykApYU0rC7g1JEXVYQJ8/PTfsiUBoGYOZK7BQH8P/rLoMM0B3mB4wKBlSPEDuYKRkCYysIHQ32hLas4eXHGCLyOKyNR/CW/qoxhH1P8M2U9X6+HyQDXqWAGR7qVjAPTF3rktIISTvr97zVNxyhaXGkHhIR1LnHDpEke98fIVjyOdpQW6ivV8gejr38PIOJ2fo13voxAQe9hDqbhpsy7M2V5VE/X1jebxWalSLVOhvcEdswYoskHaHXKnkSUEWA+NO3tnbs0TIMjnZ6280ul3sriteQ00JKsQILiFzzkMrEwkqkXgAJU9d4FQ7OkxUKEvoYlmf8G/mp9d4gBNXK0lAXfRK7YRlKsJj2kq33ULpxznKJL5+u/PcA4dQ2O2eiFXYhDzW6QFHAeTAHS5XpwQDpl8gAVKqHQUWtDsPHEs2GSTZYxlYUWqcUzHahXodddRRdNjH17Yn9VcVXdVE9XXj/ZmLz7jx/3jmdyvJAv3EuyuxWwPD7mFIpanTjx2KPHuJ1/UkXzWHWs5ubUR9VaVRX0lZ+Vi2HOvma+KrSg068=
  - secure: pZdOqirQIrgDIcS3dEV3PoE0gNgGnmP50fHNZsiszOwcQ6JBY6ZzukgZFKCUWULWsKBjLa6Wx9sQRgp/iM+WeUSGJ2u5yBWhLShfVIgQPvGQwXfgq7bc4TW/kCbohMd1otnctly794os4clBfDcRTmMqM/BUSUkeOoViFmzh8qJGFyyBONOvHPo1o316akm3PtrPv5Y1zx54JmkSKyGR5rGvSL+biKaMdlrZiSQpi1OWItzcegH0wqJpEIkphES+VwxvpnneQGabcXWJBkj+AH6eqvuOSIy9FI509w64I9MxbgSaaXq94UrMeEzpmNZ6vPJ94H/fZOE0tOGnMAkzttKJz7IoZtWTzU4yIxCaAvF3MrmZ0pMYzEB+UQw1aKed2WE6w8OM1am0oFNrkvyIZPsLMHoR6w+auH4nwwVuCqT6x6BY7tXZD1e8cFTWuzxfLnXPfuq5YfP/d4Yv8NuX+9IV8C0WBfyXLISGM6z7e98udJzKvnqar2eDxq7vlfkaKK3cA+pjf0H79S7DfBnt/X1BK85yZepz1AE9B5ivmo33fAvI6iAMsLnHa9oqHnEhzCCZAdKqsqfoGPrPmJau8UoF8N4bmvl0rrTAjwpiJ3xref92vCeuJjvzDTNIzVo4sPUIF35+j7wTfdozxT3dMyTtEE3IN/lianxwE02nhE0=
before_install:
- openssl aes-256-cbc -k "$secret_password" -in ssh_keys.tar.enc -out ssh_keys.tar -d
- sudo apt-get install expect
- tar xvf ssh_keys.tar
before_script:
- npm run third-party-dependencies
deploy:
  skip_cleanup: true
  provider: script
  script: bash scripts/travis_deploy.sh
  on:
    branch: master
